#!/usr/bin/env tauraro
# Test: Comprehensions

def test_comprehensions():
    print("=== Comprehensions ===")
    
    # List comprehension basic
    numbers = [1, 2, 3, 4, 5]
    squared = [x * x for x in numbers]
    print(f"Squared: {squared}")
    
    # With condition
    evens = [x for x in numbers if x % 2 == 0]
    print(f"Evens: {evens}")
    
    # Nested list comprehension
    matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
    flattened = [x for row in matrix for x in row]
    print(f"Flattened: {flattened}")
    
    # Multiple conditions
    result = [x for x in range(10) if x > 3 if x < 8]
    print(f"3 < x < 8: {result}")
    
    # Dict comprehension
    d = {x: x * x for x in range(1, 6)}
    print(f"Dict comprehension: {d}")
    
    # Dict with condition
    d2 = {x: x * 2 for x in range(1, 6) if x % 2 == 0}
    print(f"Dict even values: {d2}")
    
    # Set comprehension
    s = {x % 3 for x in range(10)}
    print(f"Set comprehension: {s}")

test_comprehensions()
