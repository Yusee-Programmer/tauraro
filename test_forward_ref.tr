# Test forward reference

class Application:
    def __init__(self):
        self.windows = []
        self.running = False

    def create_window(self, title: str, width: int, height: int):
        window = Window(title, width, height)
        self.windows.append(window)
        return window

    def run(self):
        self.running = True
        import win32.user32
        import duitk.events

        msg = win32.user32.MSG()
        while self.running:
            result = duitk.events.get_message(msg, 0, 0, 0)
            if result == 0:
                break
            duitk.events.translate_and_dispatch_message(msg)

class Window:
    def __init__(self, title, width, height):
        self.title = title

app = Application()
print("Test complete!")
