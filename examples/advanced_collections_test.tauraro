# Advanced Collections Module Test
import collections

print("=== Advanced Collections Module Test ===")

# Test Counter with various initialization methods
print("\n--- Counter Tests ---")
counter1 = collections.Counter()
counter2 = collections.Counter('abracadabra')
counter3 = collections.Counter({'red': 4, 'blue': 2})
counter4 = collections.Counter(cats=4, dogs=8)

print("Empty Counter:", counter1)
print("String Counter:", counter2)
print("Dict Counter:", counter3)
print("Keyword Counter:", counter4)

# Test Counter methods
print("\nCounter Methods:")
c = collections.Counter('gallahad')
print("Elements:", list(c.elements()))
print("Most common (all):", c.most_common())
print("Most common (2):", c.most_common(2))

# Test Counter arithmetic operations
c1 = collections.Counter(['a', 'b', 'c', 'a', 'b', 'b'])
c2 = collections.Counter(['a', 'b', 'b', 'c', 'c', 'd'])
print("\nCounter Arithmetic:")
print("c1:", c1)
print("c2:", c2)
print("c1 + c2:", c1 + c2)
print("c1 - c2:", c1 - c2)
print("c1 & c2:", c1 & c2)
print("c1 | c2:", c1 | c2)

# Test defaultdict with different default factories
print("\n--- DefaultDict Tests ---")
dd1 = collections.defaultdict(list)
dd2 = collections.defaultdict(int)
dd3 = collections.defaultdict(lambda: "missing")

dd1['a'].append(1)
dd2['b'] += 1
dd3['c'] = "found"

print("List defaultdict:", dict(dd1))
print("Int defaultdict:", dict(dd2))
print("Lambda defaultdict:", dict(dd3))
print("Missing key:", dd3['missing_key'])

# Test deque advanced features
print("\n--- Deque Tests ---")
d = collections.deque('abcdefg')
print("Basic deque:", list(d))
print("Right end:", d[-1])
print("Left end:", d[0])

# Test maxlen
d_max = collections.deque([1, 2, 3, 4, 5], maxlen=3)
print("Maxlen deque:", list(d_max))

# Test deque methods
d = collections.deque([1, 2, 3])
d.extend([4, 5])
d.extendleft([0, -1])
print("Extended deque:", list(d))

d.rotate(2)
print("Rotated right by 2:", list(d))
d.rotate(-1)
print("Rotated left by 1:", list(d))

# Test deque removal
d.remove(2)
print("After removing 2:", list(d))

print("Advanced Collections module test completed successfully!")