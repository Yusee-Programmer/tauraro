# Test manual memory management in compiled Tauraro
# This tests allocate, free, and arena features

# Test 1: Basic allocation
def test_basic_alloc() -> int:
    buffer = allocate(1024)
    print("Allocated 1024 bytes")
    free(buffer)
    print("Freed buffer")
    return 1

# Test 2: Arena memory
def test_arena() -> int:
    create_arena("test_arena")
    print("Created arena: test_arena")
    # Allocations in this arena
    buf1 = allocate(512)
    buf2 = allocate(256)
    print("Allocated 2 buffers in arena")
    reset_arena("test_arena")
    print("Reset arena (freed all)")
    destroy_arena("test_arena")
    print("Destroyed arena")
    return 1

# Test 3: Memory stats
def test_stats() -> int:
    stats = memory_stats()
    print("Memory stats:")
    print(stats)
    return 1

# Run tests
print("=== Manual Memory Management Test ===")
r1: int = test_basic_alloc()
r2: int = test_arena()
r3: int = test_stats()
print("=== All tests completed ===")
